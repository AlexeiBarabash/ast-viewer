<div class="header">
  <h1 class="header__title">Interactive TypeScript AST Analyzer</h1>
  <a href="https://www.github.com/" target="_blank" class="header__github">GitHub</a>
</div>
<div class="row m-0 main-wrapper">
  <div class="mobile-menu">
    <button class="mobile-btn"
            [class.mobile-btn--active]="activePanel === 'editor'"
            (click)="activePanel = 'editor'">
            Editor View
    </button>
    <button class="mobile-btn"
            [class.mobile-btn--active]="activePanel === 'nodes'"
            (click)="activePanel = 'nodes'">
            AST View
    </button>
    <button class="mobile-btn"
            [class.mobile-btn--active]="activePanel === 'props'"
            (click)="activePanel = 'props'">
            Property Inspector
    </button>
  </div>
  <div class="col-sm-4 col-xs-12 p-0 panel" [class.panel--active]="activePanel === 'editor'">
    <app-editor-view  (codeUpdate)="onCodeUpdate($event)"
                      [initialCode]="initialCode"
                      [rootNode]="rootNode"
                      [codeSelection]="codeSelection">
    </app-editor-view>            
  </div>
  <div class="col-sm-4 col-xs-12 p-0 panel" [class.panel--active]="activePanel === 'nodes'">
    <div class="tree__toolbar panel__toolbar">
      <span class="tree__lbl">Abstract Syntax Tree (AST)</span>
      <label class="tree__checkbox-lbl">
        Extended
        <input type="checkbox"
              class="tree__checkbox-ctrl"
              [(ngModel)]="extended" 
              (change)="onExtendedChange($event)"> 
        <span class="tree__checkbox-fake"></span>
      </label>
    </div>

    <div class="tree-wrapper p-0 monaco-scroll" #treeWrapper>
      <tree [tree]="nodes"
            #tree
            (nodeSelected)="onNodeClick($event)"
            (nodeHovered)="logEvent($event)"></tree>
    </div>
  </div>
  <div class="col-sm-4 col-xs-12 p-0 panel" [class.panel--active]="activePanel === 'props'">
    <app-detail-view [node]="detailNode"></app-detail-view>
  </div>
</div>
